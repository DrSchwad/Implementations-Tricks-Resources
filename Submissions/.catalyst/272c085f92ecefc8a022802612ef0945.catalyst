{"title":"D. Flip the Cards","contestId":"1503","contestName":"Codeforces Round #712 (Div. 1)","problemIndex":"D","timeLimit":"2 seconds","memLimit":"256 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p>There is a deck of $$$n$$$ cards. The $$$i$$$-th card has a number $$$a_i$$$ on the front and a number $$$b_i$$$ on the back. Every integer between $$$1$$$ and $$$2n$$$ appears exactly once on the cards.</p><p>A deck is called sorted if the front values are in <span class=\"tex-font-style-bf\">increasing</span> order and the back values are in <span class=\"tex-font-style-bf\">decreasing</span> order. That is, if $$$a_i&lt; a_{i+1}$$$ and $$$b_i&gt; b_{i+1}$$$ for all $$$1\\le i&lt;n$$$.</p><p>To flip a card $$$i$$$ means swapping the values of $$$a_i$$$ and $$$b_i$$$. You must flip some subset of cards (possibly, none), then put all the cards in any order you like. What is the minimum number of cards you must flip in order to sort the deck?</p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line contains a single integer $$$n$$$ ($$$1\\le n\\le 2\\cdot 10^5$$$) â€” the number of cards.</p><p>The next $$$n$$$ lines describe the cards. The $$$i$$$-th of these lines contains two integers $$$a_i, b_i$$$ ($$$1\\le a_i, b_i\\le 2n$$$). Every integer between $$$1$$$ and $$$2n$$$ appears exactly once.</p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>If it is impossible to sort the deck, output \"<span class=\"tex-font-style-tt\">-1</span>\". Otherwise, output the minimum number of flips required to sort the deck.</p>","noteHtml":"<div class=\"section-title\">Note</div><p>In the first test case, we flip the cards $$$(1, 9)$$$ and $$$(2, 7)$$$. The deck is then ordered $$$(3,10), (5,8), (6,4), (7,2), (9,1)$$$. It is sorted because $$$3&lt;5&lt;6&lt;7&lt;9$$$ and $$$10&gt;8&gt;4&gt;2&gt;1$$$.</p><p>In the second test case, it is impossible to sort the deck.</p>","sampleTestcases":[{"id":1617463239976,"input":"5\n3 10\n6 4\n1 9\n5 8\n2 7\n","output":"2\n","result":{"id":1617463239976,"stdout":"2\n","stderr":"","exitcode":0,"signal":null,"time":104,"timeout":false}},{"id":1617463239977,"input":"2\n1 2\n3 4\n","output":"-1\n","result":{"id":1617463239977,"stdout":"-1\n","stderr":"","exitcode":0,"signal":null,"time":95,"timeout":false}},{"id":1617463239978,"input":"3\n1 2\n3 6\n4 5\n","output":"-1\n","result":{"id":1617463239978,"stdout":"-1\n","stderr":"","exitcode":0,"signal":null,"time":89,"timeout":false}},{"id":1617474206531,"input":"20\r\n7 29\r\n4 34\r\n40 2\r\n39 10\r\n33 5\r\n1 37\r\n20 23\r\n14 21\r\n22 9\r\n8 28\r\n19 24\r\n26 13\r\n32 6\r\n30 16\r\n11 38\r\n36 3\r\n35 12\r\n15 31\r\n17 27\r\n18 25","output":"-1","result":{"id":1617474206531,"stdout":"-1\n","stderr":"","exitcode":0,"signal":null,"time":86,"timeout":false}},{"id":1617476063512,"input":"4\n1 6\n2 7\n3 5\n4 8","output":"-1","result":{"id":1617476063512,"stdout":"-1\n","stderr":"","exitcode":0,"signal":null,"time":103,"timeout":false}}],"submitUrl":"https://codeforces.com/contest/1503/submit","language":"c++"}